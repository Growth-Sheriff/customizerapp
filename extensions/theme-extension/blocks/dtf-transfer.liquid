{% comment %}
  Upload Lift Pro - DTF Transfer Block
  =====================================
  Mode: dtf_transfer (Mod-1)
  Location: Product page
  
  This block renders the DTF uploader widget with:
  - File upload (drag & drop)
  - Extra questions from merchant config
  - Size & quantity selection
  - T-Shirt addon modal (if enabled)
  - Confirmation screen after cart add
  
  USAGE: Add this block to your product page in Theme Editor
  
  Version: 4.1.0 (FAZ 4 - Global State)
{% endcomment %}

{% comment %}
  Load Global State Manager (FAZ 4)
  MUST load before other components
{% endcomment %}
<script src="{{ 'ul-state.js' | asset_url }}" defer></script>

{% comment %}
  Render the DTF Uploader snippet
  This handles all the upload logic, API calls, and UI
{% endcomment %}
{% render 'dtf-uploader', product: product %}

{% comment %}
  Render the T-Shirt Modal snippet (FAZ 2)
  This provides the 4-step wizard for T-Shirt customization
{% endcomment %}
{% render 'tshirt-modal' %}

{% comment %}
  Render the Confirmation Screen snippet (FAZ 3)
  This shows cart summary after successful addition
{% endcomment %}
{% render 'confirmation-screen' %}

{% schema %}
{
  "name": "UL DTF Transfer",
  "target": "section",
  "templates": ["product"],
  "settings": [
    {
      "type": "paragraph",
      "content": "This block displays the DTF upload widget. Configure product settings in the Upload Lift app dashboard."
    },
    {
      "type": "checkbox",
      "id": "show_header",
      "label": "Show section header",
      "default": true
    },
    {
      "type": "text",
      "id": "header_text",
      "label": "Header text",
      "default": "Upload Your Design"
    }
  ]
}
{% endschema %}
